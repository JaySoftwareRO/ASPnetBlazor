/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/js/foundation.positionable.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import{Box}from"./foundation.util.box";import{Plugin}from"./foundation.core.plugin";import{rtl as Rtl}from"./foundation.core.utils";const POSITIONS=["left","right","top","bottom"],VERTICAL_ALIGNMENTS=["top","bottom","center"],HORIZONTAL_ALIGNMENTS=["left","right","center"],ALIGNMENTS={left:VERTICAL_ALIGNMENTS,right:VERTICAL_ALIGNMENTS,top:HORIZONTAL_ALIGNMENTS,bottom:HORIZONTAL_ALIGNMENTS};function nextItem(t,i){var s=i.indexOf(t);return s===i.length-1?i[0]:i[s+1]}class Positionable extends Plugin{_init(){this.triedPositions={},this.position="auto"===this.options.position?this._getDefaultPosition():this.options.position,this.alignment="auto"===this.options.alignment?this._getDefaultAlignment():this.options.alignment,this.originalPosition=this.position,this.originalAlignment=this.alignment}_getDefaultPosition(){return"bottom"}_getDefaultAlignment(){switch(this.position){case"bottom":case"top":return Rtl()?"right":"left";case"left":case"right":return"bottom"}}_reposition(){this._alignmentsExhausted(this.position)?(this.position=nextItem(this.position,POSITIONS),this.alignment=ALIGNMENTS[this.position][0]):this._realign()}_realign(){this._addTriedPosition(this.position,this.alignment),this.alignment=nextItem(this.alignment,ALIGNMENTS[this.position])}_addTriedPosition(t,i){this.triedPositions[t]=this.triedPositions[t]||[],this.triedPositions[t].push(i)}_positionsExhausted(){for(var t=!0,i=0;i<POSITIONS.length;i++)t=t&&this._alignmentsExhausted(POSITIONS[i]);return t}_alignmentsExhausted(t){return this.triedPositions[t]&&this.triedPositions[t].length==ALIGNMENTS[t].length}_getVOffset(){return this.options.vOffset}_getHOffset(){return this.options.hOffset}_setPosition(t,i,s){if("false"===t.attr("aria-expanded"))return!1;if(this.options.allowOverlap||(this.position=this.originalPosition,this.alignment=this.originalAlignment),i.offset(Box.GetExplicitOffsets(i,t,this.position,this.alignment,this._getVOffset(),this._getHOffset())),!this.options.allowOverlap){for(var o=1e8,n={position:this.position,alignment:this.alignment};!this._positionsExhausted();){let e=Box.OverlapArea(i,s,!1,!1,this.options.allowBottomOverlap);if(0===e)return;e<o&&(o=e,n={position:this.position,alignment:this.alignment}),this._reposition(),i.offset(Box.GetExplicitOffsets(i,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}this.position=n.position,this.alignment=n.alignment,i.offset(Box.GetExplicitOffsets(i,t,this.position,this.alignment,this._getVOffset(),this._getHOffset()))}}}Positionable.defaults={position:"auto",alignment:"auto",allowOverlap:!1,allowBottomOverlap:!0,vOffset:0,hOffset:0};export{Positionable};
//# sourceMappingURL=/sm/d95aec331ae73e689f574a92854032484f9fddeb082f14aedfb34dbf163c986a.map