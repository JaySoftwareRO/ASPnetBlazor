/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/js/foundation.toggler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";import{Motion}from"./foundation.util.motion";import{Plugin}from"./foundation.core.plugin";import{RegExpEscape}from"./foundation.core.utils";import{Triggers}from"./foundation.util.triggers";class Toggler extends Plugin{_setup(t,e){this.$element=t,this.options=$.extend({},Toggler.defaults,t.data(),e),this.className="",this.className="Toggler",Triggers.init($),this._init(),this._events()}_init(){var t,e=this.$element[0].id,i=$(`[data-open~="${e}"], [data-close~="${e}"], [data-toggle~="${e}"]`);if(this.options.animate)t=this.options.animate.split(" "),this.animationIn=t[0],this.animationOut=t[1]||null,i.attr("aria-expanded",!this.$element.is(":hidden"));else{if("string"!=typeof(t=this.options.toggler)||!t.length)throw new Error(`The 'toogler' option containing the target class is required, got "${t}"`);this.className="."===t[0]?t.slice(1):t,i.attr("aria-expanded",this.$element.hasClass(this.className))}i.each((t,i)=>{const a=$(i),s=a.attr("aria-controls")||"";new RegExp(`\\b${RegExpEscape(e)}\\b`).test(s)||a.attr("aria-controls",s?`${s} ${e}`:e)})}_events(){this.$element.off("toggle.zf.trigger").on("toggle.zf.trigger",this.toggle.bind(this))}toggle(){this[this.options.animate?"_toggleAnimate":"_toggleClass"]()}_toggleClass(){this.$element.toggleClass(this.className);var t=this.$element.hasClass(this.className);t?this.$element.trigger("on.zf.toggler"):this.$element.trigger("off.zf.toggler"),this._updateARIA(t),this.$element.find("[data-mutate]").trigger("mutateme.zf.trigger")}_toggleAnimate(){var t=this;this.$element.is(":hidden")?Motion.animateIn(this.$element,this.animationIn,function(){t._updateARIA(!0),this.trigger("on.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")}):Motion.animateOut(this.$element,this.animationOut,function(){t._updateARIA(!1),this.trigger("off.zf.toggler"),this.find("[data-mutate]").trigger("mutateme.zf.trigger")})}_updateARIA(t){var e=this.$element[0].id;$(`[data-open="${e}"], [data-close="${e}"], [data-toggle="${e}"]`).attr({"aria-expanded":!!t})}_destroy(){this.$element.off(".zf.toggler")}}Toggler.defaults={toggler:void 0,animate:!1};export{Toggler};
//# sourceMappingURL=/sm/5255c0b6aa7b88aa61ab2d7cac368421acd97527bbef1c11a2793d332d247554.map