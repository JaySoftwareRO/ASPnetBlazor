/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/js/foundation.util.keyboard.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";import{rtl as Rtl}from"./foundation.core.utils";const keyCodes={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",35:"END",36:"HOME",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"};var commands={};function findFocusable(e){return!!e&&e.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!(!$(this).is(":visible")||$(this).attr("tabindex")<0)})}function parseKey(e){var t=keyCodes[e.which||e.keyCode]||String.fromCharCode(e.which).toUpperCase();return t=t.replace(/\W+/,""),e.shiftKey&&(t=`SHIFT_${t}`),e.ctrlKey&&(t=`CTRL_${t}`),e.altKey&&(t=`ALT_${t}`),t=t.replace(/_$/,"")}var Keyboard={keys:getKeyCodes(keyCodes),parseKey:parseKey,handleKey(e,t,n){var r,a=commands[t],o=this.parseKey(e);if(!a)return console.warn("Component not defined!");if(!0!==e.zfIsKeyHandled)if((r=n[(void 0===a.ltr?a:Rtl()?$.extend({},a.ltr,a.rtl):$.extend({},a.rtl,a.ltr))[o]])&&"function"==typeof r){var d=r.apply();e.zfIsKeyHandled=!0,(n.handled||"function"==typeof n.handled)&&n.handled(d)}else(n.unhandled||"function"==typeof n.unhandled)&&n.unhandled()},findFocusable:findFocusable,register(e,t){commands[e]=t},trapFocus(e){var t=findFocusable(e),n=t.eq(0),r=t.eq(-1);e.on("keydown.zf.trapfocus",function(e){e.target===r[0]&&"TAB"===parseKey(e)?(e.preventDefault(),n.focus()):e.target===n[0]&&"SHIFT_TAB"===parseKey(e)&&(e.preventDefault(),r.focus())})},releaseFocus(e){e.off("keydown.zf.trapfocus")}};function getKeyCodes(e){var t={};for(var n in e)t[e[n]]=e[n];return t}export{Keyboard};
//# sourceMappingURL=/sm/8c747bb014c33ff5ce2c3f88ce7d2d6e8e99cc0a9e251c5a0f0fbcf3a58bdf4f.map