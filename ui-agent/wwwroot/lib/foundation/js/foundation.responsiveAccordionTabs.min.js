/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/js/foundation.responsiveAccordionTabs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";import{MediaQuery}from"./foundation.util.mediaQuery";import{GetYoDigits}from"./foundation.core.utils";import{Plugin}from"./foundation.core.plugin";import{Accordion}from"./foundation.accordion";import{Tabs}from"./foundation.tabs";var MenuPlugins={tabs:{cssClass:"tabs",plugin:Tabs,open:(t,e)=>t.selectTab(e),close:null,toggle:null},accordion:{cssClass:"accordion",plugin:Accordion,open:(t,e)=>t.down($(e)),close:(t,e)=>t.up($(e)),toggle:(t,e)=>t.toggle($(e))}};class ResponsiveAccordionTabs extends Plugin{constructor(t,e){return super(t,e),this.options.reflow&&this.storezfData||this}_setup(t,e){this.$element=$(t),this.$element.data("zfPluginBase",this),this.options=$.extend({},ResponsiveAccordionTabs.defaults,this.$element.data(),e),this.rules=this.$element.data("responsive-accordion-tabs"),this.currentMq=null,this.currentRule=null,this.currentPlugin=null,this.className="ResponsiveAccordionTabs",this.$element.attr("id")||this.$element.attr("id",GetYoDigits(6,"responsiveaccordiontabs")),this._init(),this._events()}_init(){if(MediaQuery._init(),"string"==typeof this.rules){let t={},e=this.rules.split(" ");for(let i=0;i<e.length;i++){let s=e[i].split("-"),n=s.length>1?s[0]:"small",a=s.length>1?s[1]:s[0];null!==MenuPlugins[a]&&(t[n]=MenuPlugins[a])}this.rules=t}this._getAllOptions(),$.isEmptyObject(this.rules)||this._checkMediaQueries()}_getAllOptions(){for(var t in this.allOptions={},MenuPlugins)if(MenuPlugins.hasOwnProperty(t)){var e=MenuPlugins[t];try{var i=$("<ul></ul>"),s=new e.plugin(i,this.options);for(var n in s.options)if(s.options.hasOwnProperty(n)&&"zfPlugin"!==n){var a=s.options[n];this.allOptions[n]=a}s.destroy()}catch(t){}}}_events(){this._changedZfMediaQueryHandler=this._checkMediaQueries.bind(this),$(window).on("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}_checkMediaQueries(){var t,e=this;$.each(this.rules,function(e){MediaQuery.atLeast(e)&&(t=e)}),t&&(this.currentPlugin instanceof this.rules[t].plugin||($.each(MenuPlugins,function(t,i){e.$element.removeClass(i.cssClass)}),this.$element.addClass(this.rules[t].cssClass),this.currentPlugin&&(!this.currentPlugin.$element.data("zfPlugin")&&this.storezfData&&this.currentPlugin.$element.data("zfPlugin",this.storezfData),this.currentPlugin.destroy()),this._handleMarkup(this.rules[t].cssClass),this.currentRule=this.rules[t],this.currentPlugin=new this.currentRule.plugin(this.$element,this.options),this.storezfData=this.currentPlugin.$element.data("zfPlugin")))}_handleMarkup(t){var e=this,i="accordion",s=$("[data-tabs-content="+this.$element.attr("id")+"]");if(s.length&&(i="tabs"),i!==t){var n=e.allOptions.linkClass?e.allOptions.linkClass:"tabs-title",a=e.allOptions.panelClass?e.allOptions.panelClass:"tabs-panel";this.$element.removeAttr("role");var r=this.$element.children("."+n+",[data-accordion-item]").removeClass(n).removeClass("accordion-item").removeAttr("data-accordion-item"),l=r.children("a").removeClass("accordion-title");if("tabs"===i?(s=s.children("."+a).removeClass(a).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby")).children("a").removeAttr("role").removeAttr("aria-controls").removeAttr("aria-selected"):s=r.children("[data-tab-content]").removeClass("accordion-content"),s.css({display:"",visibility:""}),r.css({display:"",visibility:""}),"accordion"===t)s.each(function(t,i){$(i).appendTo(r.get(t)).addClass("accordion-content").attr("data-tab-content","").removeClass("is-active").css({height:""}),$("[data-tabs-content="+e.$element.attr("id")+"]").after('<div id="tabs-placeholder-'+e.$element.attr("id")+'"></div>').detach(),r.addClass("accordion-item").attr("data-accordion-item",""),l.addClass("accordion-title")});else if("tabs"===t){var o=$("[data-tabs-content="+e.$element.attr("id")+"]"),c=$("#tabs-placeholder-"+e.$element.attr("id"));c.length?(o=$('<div class="tabs-content"></div>').insertAfter(c).attr("data-tabs-content",e.$element.attr("id")),c.remove()):o=$('<div class="tabs-content"></div>').insertAfter(e.$element).attr("data-tabs-content",e.$element.attr("id")),s.each(function(t,e){var i=$(e).appendTo(o).addClass(a),s=l.get(t).hash.slice(1),n=$(e).attr("id")||GetYoDigits(6,"accordion");s!==n&&(""!==s?$(e).attr("id",s):(s=n,$(e).attr("id",s),$(l.get(t)).attr("href",$(l.get(t)).attr("href").replace("#","")+"#"+s))),$(r.get(t)).hasClass("is-active")&&i.addClass("is-active")}),r.addClass(n)}}}open(t){if(this.currentRule&&"function"==typeof this.currentRule.open)return this.currentRule.open(this.currentPlugin,...arguments)}close(t){if(this.currentRule&&"function"==typeof this.currentRule.close)return this.currentRule.close(this.currentPlugin,...arguments)}toggle(t){if(this.currentRule&&"function"==typeof this.currentRule.toggle)return this.currentRule.toggle(this.currentPlugin,...arguments)}_destroy(){this.currentPlugin&&this.currentPlugin.destroy(),$(window).off("changed.zf.mediaquery",this._changedZfMediaQueryHandler)}}ResponsiveAccordionTabs.defaults={};export{ResponsiveAccordionTabs};
//# sourceMappingURL=/sm/bdc52b8bb207071794328aa47b93bd03f8122dcaaec3014d427c0fac59d85784.map