/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/js/foundation.util.triggers.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";import{onLoad}from"./foundation.core.utils";import{Motion}from"./foundation.util.motion";const MutationObserver=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(`${e[t]}MutationObserver`in window)return window[`${e[t]}MutationObserver`];return!1}(),triggers=(e,t)=>{e.data(t).split(" ").forEach(r=>{$(`#${r}`)["close"===t?"trigger":"triggerHandler"](`${t}.zf.trigger`,[e])})};var Triggers={Listeners:{Basic:{},Global:{}},Initializers:{}};function debounceGlobalListener(e,t,r){let i,s=Array.prototype.slice.call(arguments,3);$(window).off(t).on(t,function(t){i&&clearTimeout(i),i=setTimeout(function(){r.apply(null,s)},e||10)})}Triggers.Listeners.Basic={openListener:function(){triggers($(this),"open")},closeListener:function(){$(this).data("close")?triggers($(this),"close"):$(this).trigger("close.zf.trigger")},toggleListener:function(){$(this).data("toggle")?triggers($(this),"toggle"):$(this).trigger("toggle.zf.trigger")},closeableListener:function(e){let t=$(this).data("closable");e.stopPropagation(),""!==t?Motion.animateOut($(this),t,function(){$(this).trigger("closed.zf")}):$(this).fadeOut().trigger("closed.zf")},toggleFocusListener:function(){let e=$(this).data("toggle-focus");$(`#${e}`).triggerHandler("toggle.zf.trigger",[$(this)])}},Triggers.Initializers.addOpenListener=(e=>{e.off("click.zf.trigger",Triggers.Listeners.Basic.openListener),e.on("click.zf.trigger","[data-open]",Triggers.Listeners.Basic.openListener)}),Triggers.Initializers.addCloseListener=(e=>{e.off("click.zf.trigger",Triggers.Listeners.Basic.closeListener),e.on("click.zf.trigger","[data-close]",Triggers.Listeners.Basic.closeListener)}),Triggers.Initializers.addToggleListener=(e=>{e.off("click.zf.trigger",Triggers.Listeners.Basic.toggleListener),e.on("click.zf.trigger","[data-toggle]",Triggers.Listeners.Basic.toggleListener)}),Triggers.Initializers.addCloseableListener=(e=>{e.off("close.zf.trigger",Triggers.Listeners.Basic.closeableListener),e.on("close.zf.trigger","[data-closeable], [data-closable]",Triggers.Listeners.Basic.closeableListener)}),Triggers.Initializers.addToggleFocusListener=(e=>{e.off("focus.zf.trigger blur.zf.trigger",Triggers.Listeners.Basic.toggleFocusListener),e.on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",Triggers.Listeners.Basic.toggleFocusListener)}),Triggers.Listeners.Global={resizeListener:function(e){MutationObserver||e.each(function(){$(this).triggerHandler("resizeme.zf.trigger")}),e.attr("data-events","resize")},scrollListener:function(e){MutationObserver||e.each(function(){$(this).triggerHandler("scrollme.zf.trigger")}),e.attr("data-events","scroll")},closeMeListener:function(e,t){let r=e.namespace.split(".")[0];$(`[data-${r}]`).not(`[data-yeti-box="${t}"]`).each(function(){let e=$(this);e.triggerHandler("close.zf.trigger",[e])})}},Triggers.Initializers.addClosemeListener=function(e){var t=$("[data-yeti-box]"),r=["dropdown","tooltip","reveal"];if(e&&("string"==typeof e?r.push(e):"object"==typeof e&&"string"==typeof e[0]?r=r.concat(e):console.error("Plugin names must be strings")),t.length){let e=r.map(e=>`closeme.zf.${e}`).join(" ");$(window).off(e).on(e,Triggers.Listeners.Global.closeMeListener)}},Triggers.Initializers.addResizeListener=function(e){let t=$("[data-resize]");t.length&&debounceGlobalListener(e,"resize.zf.trigger",Triggers.Listeners.Global.resizeListener,t)},Triggers.Initializers.addScrollListener=function(e){let t=$("[data-scroll]");t.length&&debounceGlobalListener(e,"scroll.zf.trigger",Triggers.Listeners.Global.scrollListener,t)},Triggers.Initializers.addMutationEventsListener=function(e){if(!MutationObserver)return!1;let t=e.find("[data-resize], [data-scroll], [data-mutate]");var r=function(e){var t=$(e[0].target);switch(e[0].type){case"attributes":"scroll"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("scrollme.zf.trigger",[t,window.pageYOffset]),"resize"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("resizeme.zf.trigger",[t]),"style"===e[0].attributeName&&(t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[t.closest("[data-mutate]")]));break;case"childList":t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme.zf.trigger",[t.closest("[data-mutate]")]);break;default:return!1}};if(t.length)for(var i=0;i<=t.length-1;i++){new MutationObserver(r).observe(t[i],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})}},Triggers.Initializers.addSimpleListeners=function(){let e=$(document);Triggers.Initializers.addOpenListener(e),Triggers.Initializers.addCloseListener(e),Triggers.Initializers.addToggleListener(e),Triggers.Initializers.addCloseableListener(e),Triggers.Initializers.addToggleFocusListener(e)},Triggers.Initializers.addGlobalListeners=function(){let e=$(document);Triggers.Initializers.addMutationEventsListener(e),Triggers.Initializers.addResizeListener(),Triggers.Initializers.addScrollListener(),Triggers.Initializers.addClosemeListener()},Triggers.init=function(e,t){onLoad(e(window),function(){!0!==e.triggersInitialized&&(Triggers.Initializers.addSimpleListeners(),Triggers.Initializers.addGlobalListeners(),e.triggersInitialized=!0)}),t&&(t.Triggers=Triggers,t.IHearYou=Triggers.Initializers.addGlobalListeners)};export{Triggers};
//# sourceMappingURL=/sm/16c8a814d3e883d9bdb651803f7e5091c14b7841574dbcb3e7ec0c4703211f23.map