/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/test/javascript/util/keyboard.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
describe("Keyboard util",function(){const e=window.mockKeyboardEvent,n={A:65,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};afterEach(function(){document.activeElement.blur()}),it("exists on the Foundation API",function(){window.Foundation.Keyboard.should.be.an("object")}),describe("parseKey()",function(){it("returns the character pressed for a normal key",function(){let o=e(n.A);Foundation.Keyboard.parseKey(o).should.be.equal("A")}),it("returns the character pressed for special keys",function(){for(let o in n){let t=e(n[o]);Foundation.Keyboard.parseKey(t).should.be.equal(o)}}),it("recognizes if CTRL was pressed",function(){let o=e(n.A,{ctrl:!0});Foundation.Keyboard.parseKey(o).should.be.equal("CTRL_A")}),it("recognizes if ALT was pressed",function(){let o=e(n.A,{alt:!0});Foundation.Keyboard.parseKey(o).should.be.equal("ALT_A")}),it("recognizes if SHIFT was pressed",function(){let o=e(n.A,{shift:!0});Foundation.Keyboard.parseKey(o).should.be.equal("SHIFT_A")}),it("recognizes if multiple modifiers were pressed",function(){let o=e(n.A,{shift:!0,alt:!0,ctrl:!0});Foundation.Keyboard.parseKey(o).should.be.equal("ALT_CTRL_SHIFT_A")})}),describe("handleKey()",function(){it("executes callback for given key event",function(){let o=sinon.spy();Foundation.Keyboard.register("MyComponent",{ESCAPE:"close"});let t=e(n.ESCAPE);Foundation.Keyboard.handleKey(t,"MyComponent",{close:()=>{o()}}),o.called.should.be.true}),it("executes handled callback for given key event",function(){let o=sinon.spy();Foundation.Keyboard.register("MyComponent",{ESCAPE:"close"});let t=e(n.ESCAPE);Foundation.Keyboard.handleKey(t,"MyComponent",{close:()=>{},handled:()=>{o()}}),o.called.should.be.true}),it("executes unhandled callback for given key event",function(){let o=sinon.spy();Foundation.Keyboard.register("MyComponent",{});let t=e(n.ESCAPE);Foundation.Keyboard.handleKey(t,"MyComponent",{unhandled:()=>{o()}}),o.called.should.be.true})}),describe("findFocusable()",function(){it("finds focusable elements inside a container",function(){let e=$('<div>\n            <a href="#">Link</a>\n            <button>Button</button>\n          </div>').appendTo("body");Foundation.Keyboard.findFocusable(e).length.should.be.equal(2),e.remove()}),it("does not find hidden focusable elements",function(){let e=$('<div>\n            <a style="display: none;" href="#">Link</a>\n            <button style="display: none;">Button</button>\n          </div>').appendTo("body");Foundation.Keyboard.findFocusable(e).length.should.be.equal(0),e.remove()}),it("does not find disabled focusable elements",function(){let e=$("<div>\n            <button disabled>Button</button>\n          </div>").appendTo("body");Foundation.Keyboard.findFocusable(e).length.should.be.equal(0),e.remove()}),it("does not find focusable elements with negative tabindex",function(){let e=$('<div>\n            <button tabindex="-1">Button</button>\n          </div>').appendTo("body");Foundation.Keyboard.findFocusable(e).length.should.be.equal(0),e.remove()})}),describe("trapFocus()",function(){it("moves the focus to the first focusable element",function(){let o=$('<div>\n            <a href="#">Link1</a>\n            <a href="#">Link2</a>\n            <a href="#">Link3</a>\n          </div>').appendTo("body");Foundation.Keyboard.trapFocus(o),o.find("a").last().focus();let t=e(n.TAB);$(document.activeElement).trigger(t),document.activeElement.should.be.equal(o.find("a").eq(0)[0]),o.remove()}),it("moves the focus to the last focusable element",function(){let o=$('<div>\n            <a href="#">Link1</a>\n            <a href="#">Link2</a>\n            <a href="#">Link3</a>\n          </div>').appendTo("body");Foundation.Keyboard.trapFocus(o),o.find("a").first().focus();let t=e(n.TAB,{shift:!0});$(document.activeElement).trigger(t),document.activeElement.should.be.equal(o.find("a").eq(2)[0]),o.remove()})}),describe("releaseFocus()",function(){it("stops trapping the focus at the end",function(){let o=$('<div>\n            <a href="#">Link1</a>\n            <a href="#">Link2</a>\n            <a href="#">Link3</a>\n          </div>').appendTo("body");Foundation.Keyboard.trapFocus(o),o.find("a").last().focus(),Foundation.Keyboard.releaseFocus(o);let t=e(n.TAB);$(document.activeElement).trigger(t),document.activeElement.should.not.be.equal(o.find("a").eq(0)[0]),o.remove()}),it("stops trapping the focus at the top",function(){let o=$('<div>\n            <a href="#">Link1</a>\n            <a href="#">Link2</a>\n            <a href="#">Link3</a>\n          </div>').appendTo("body");Foundation.Keyboard.trapFocus(o),o.find("a").first().focus(),Foundation.Keyboard.releaseFocus(o);let t=e(e(n.TAB,{shift:!0}));$(document.activeElement).trigger(t),document.activeElement.should.not.be.equal(o.find("a").eq(2)[0]),o.remove()})})});
//# sourceMappingURL=/sm/b2043b63d48d3fb0d7aff39845a3b214febcb2e10bf650e250fe424720e5d586.map