/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/foundation-sites@6.6.3/docs/assets/img/gulpfile.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const $=require("gulp-load-plugins")(),gulp=require("gulp"),rimraf=require("rimraf"),panini=require("panini"),sequence=require("run-sequence");var isProduction=process.argv.includes("--production"),paths={assets:["src/assets/**/*","!src/assets/{!img,js,scss}/**/*"],downloads:["src/downloads/**/*.*"],sass:["node_modules/foundation-sites/scss"],javascript:["node_modules/jquery/dist/jquery.js","node_modules/foundation-sites/dist/foundation.js","node_modules/what-input/what-input.js","src/assets/js/**/*.js","node_modules/lodash/lodash.js","src/assets/js/app.js"]};gulp.task("clean",function(s){rimraf("./dist",s)}),gulp.task("copy",function(s){gulp.src(paths.assets).pipe(gulp.dest("./dist/assets"))}),gulp.task("downloads",function(s){gulp.src("src/downloads/**/*.*").pipe(gulp.dest("./dist/downloads")),s()}),gulp.task("pages",function(){gulp.src("./src/pages/**/*.html").pipe(panini({root:"./src/pages/",layouts:"./src/layouts/",partials:"./src/partials/",data:"./src/data/"})).pipe($.cacheBust({type:"MD5"})).pipe(gulp.dest("./dist"))}),gulp.task("pages:reset",function(){panini.refresh(),gulp.run("pages")}),gulp.task("sass",function(){$.if(isProduction,$.uncss({html:["src/**/*.html"],ignore:[new RegExp("^meta..*"),new RegExp("^.is-.*")]}));return gulp.src("./src/assets/scss/app.scss").pipe($.sass({includePaths:paths.sass,outputStyle:isProduction?"compressed":"nested"}).on("error",$.sass.logError)).pipe($.autoprefixer()).pipe(gulp.dest("./dist/assets/css"))}),gulp.task("javascript",function(){var s=$.if(isProduction,$.uglify({mangle:!1}).on("error",function(s){console.log(s)}));return gulp.src(paths.javascript).pipe($.concat("app.js")).pipe(s).pipe(gulp.dest("./dist/assets/js"))}),gulp.task("jst",function(){gulp.src("src/templates/*.html").pipe($.jstConcat("templates.js",{renameKeys:["^.*marketing/(src.*.html)$","$1"]})).pipe(gulp.dest("dist/assets/js"))}),gulp.task("images",function(){$.if(isProduction,$.imagemin({progressive:!0}));return gulp.src("./src/assets/img/**/*").pipe(gulp.dest("./dist/assets/img"))}),gulp.task("deploy",["build"],function(){return gulp.src("./dist/**").pipe($.prompt.confirm("Make sure everything looks right before you deploy.")).pipe($.rsync({root:"./dist",hostname:"deployer@72.32.134.77",destination:"/home/deployer/sites/foundation-sites-6-marketing"}))}),gulp.task("build",function(s){sequence("clean",["pages","sass","javascript","images","jst","downloads"],s)}),gulp.task("server",["build"],function(){return gulp.src("./dist").pipe($.webserver({host:"localhost",port:8e3,livereload:!0,open:!0}))}),gulp.task("default",["build","server"],function(){gulp.watch(paths.assets,["copy"]),gulp.watch(["./src/pages/**/*.html"],["pages"]),gulp.watch(["./src/{layouts,partials}/**/*.html"],["pages:reset"]),gulp.watch(["./src/assets/scss/**/*.scss"],["sass"]),gulp.watch(["./src/assets/js/**/*.js"],["javascript"]),gulp.watch(["node_modules/foundation-sites/dist/foundation.js"],["javascript"]),gulp.watch(["./src/assets/img/**/*"],["images"]),gulp.watch(["./src/templates/**/*"],["jst"])});
//# sourceMappingURL=/sm/a85332244e205fff56ec507a28bb1cac5d3295125d735aa9ac7df2415847d30e.map